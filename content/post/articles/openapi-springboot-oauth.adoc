---
title: "OpenApi generator client auth token management"
date: 2020-02-05T21:24:11+01:00
draft: true
tags: ["OpenAPI Generator", "SpringBoot", "Oauth2"]
---

In my team, we try to use a contract-first approach for our REST APIs.
With multiple microservices, we need to pass user token when we call another service.

In this article, I will show how to easily pass this token with a generated RestTemplate client and Springboot.
<!--more-->

== SetUp

You can download the base project on https://github.com/Zomzog/openapi-spring-client-token[github].
It contains two servers.

=== Front

Is the Authorization Server.
You can obtain a JWT token with this call :
{{< accordion title="curl login" >}}
	{{< highlight bash "linenos=table" >}}
    curl --location --request POST 'localhost:8080/oauth/token' \
    --header 'Content-Type: application/x-www-form-urlencoded' \
    --header 'Authorization: Basic Y2xpZW50SWQ6Y2xpZW50U2VjcmV0' \
    --data-urlencode 'username=user1' \
    --data-urlencode 'password=password' \
    --data-urlencode 'grant_type=password'
    ---
	{{< / highlight >}}
{{< / accordion >}}

== Links 

https://github.com/Zomzog/openapi-spring-client-token[Demo project]

https://github.com/OpenAPITools/openapi-generator[OpenAPI Generator]